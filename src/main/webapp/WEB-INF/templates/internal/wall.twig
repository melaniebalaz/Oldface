{% extends "../layouts/navbarInternal.twig" %}

{% set pagetitle = 'Wall' %}

{% block content %}

    <div class="container-fluid jumbotron">

        <div class="container" >
            <br>
            <br>
                <h3>{{ name }} - Dein Profil </h3>
            <br>
            <div class="col-sm-3">
                <img src="/img/Avatar.jpg" alt="Profilbild" height=150px width=150px class="img-thumbnail"><br><br>

                <form method="post" action="/editProfile" name="editProfile">

                    <input type="submit" class="btn btn-default disabled" value="Profil bearbeiten">
                </form>
                <br>


                <!-- We dont need this in the first iteration
                <p>Wohnort: </p> <c:out value="${wohnort}"/> <br>
                <p>E-Mail: </p> <c:out value="${user}"/>  <br>
                <p>Geburtsdatum: </p> <c:out value="${gebdatum}"/>  <br>
                -->

                <form method="post" action="/showFriends" name="showFriends">
                    <input type="submit" class="btn btn-default disabled" value="Freunde anzeigen">
                </form><br>
            </div>
            <div class="container">
                    <div class="col-sm-6">
                        <form method="post" action="BenutzerServlet" name="kurzbeschreibung">
                            <p>
                                Platzhalter Kurzbeschreibung
                            </p>
                        </form>

                    </div>
                    <div class="col-sm-6">
                        <form method="post" action="/post" name="beitragpost">

                            <input type="hidden" name="select" value="beitragposten">
                            <input type="hidden" name="curruser" value="${user }">

                            <input type="text" class="form-control" name="blogPost" placeholder="Was willst du posten?" value="" required/>
                            <input type="submit" class="btn btn-default" value="Posten" /><br>
                        </form>




                        <hr>

                        <h4> Vorherige Posts: </h4>

                        {% for post in posts %}
                            <div class="panel panel-default">
                                <div class="panel-heading">{{post.creationDate.getTime()|date("dd-MM-yyyy")}}</div>
                                <div class="panel-body">
                                    {{post.content}}
                                </div>
                                <div class="panel-footer">
                                    <form method="post" action="/comment" name="comment">
                                        <input type="hidden" name="postID" value={{ post.messageid }}>
                                        <input type="text" class="form-control" name="comment" placeholder="Dein Kommentar dazu" value="" required/>
                                        <input type="submit" class="btn btn-default btn-sm" value="Kommentar absenden" /><br>
                                    </form>
                                    <hr>
                                    Kommentare:
                                    <br>
                                    <br>
                                    <ul class="list-group">
                                        {% for comment in post.comments %}
                                        <li class="list-group-item">
                                            {{comment.content}} von <span class="blue-text"> {{comment.author}} </span>
                                        </li>
                                        {% endfor%}
                                    </ul>
                                </div>
                            </div>
                        {% endfor%}

                    </div>
            </div>

        </div>
    </div>
{% endblock %}